# Тестовое задание на позицию бэка. Реестр характеристик (RH)

## Требования

1. В проекте используется Spring framework 3, лучше писать с использованием Spring framework (можно
писать с использованием Spring boot любой версии, реально, особой разницы не будет)
2. Разработать API согласно подходов REST (UI не надо). Основые API:
CRUD для работы с новостью
CRUD для работы с комментарием
просмотр списка новостей (с пагинацией)
просмотр новости с комментариями относящимися к ней (с пагинацией)
полнотекстовый поиск по тексту и заголовку новости (больше не нужно)
3. Код должен быть понятным и содержать комментарии (другими словами, порог вхождения
"непосвящённого" человека в код должен быть минимальным, но важно не перегрузить
комментариями)
4. Реализовать на основе Spring @Profile (e.g. test & prod) подключение к базе данных встроенная и
внешняя соответственно. БД PostgreSQL или MongoDB (можно заменит какую-либо из них OracleDB)
5. В тестовом режиме (test) база данных должна наполняться автоматически - проект должен включать
data.sql-файл, по которому генерируются необходимые таблицы и наполняются таблицы тестовыми
данными (20 новостей и 10 комментариев, связанных с каждой новостью)
6. Весь код должен быть покрыт юнит-тестами (Не обязательно писать тесты на каждый метод отдельно,
но их точно должно все покрыть вызовами тестов методов "на уровень выше". Другими словами,
достаточно покрыть тестами контроллеры, сервисы и докрыть оставшиеся)
7. Реализовать логирование по уровням в отдельных слоях приложения
8 Реализовать логирование запрос-ответ в аспектном стиле
9. Предусмотреть обработку исключений и интерпретацию их согласно REST (см.
https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc)
10. Все настройки должны быть вынесены в *.yml файл конфигурации
11. Код должен быть документирован @JavaDoc, а назначение приложения и его интерфейс и
настройки должны быть описаны в README.md файле
12 Spring Security:
API для регистрации пользователей с ролями admin/journalist/subscriber. Для регистрации
указывать только ФИО, роль, и username, автоматически генерировать password (сделаем вид, что
пароль отправляется куда-то там в стороннюю систему, например, на почту, и не задаётся
пользователем вручную)
Администратор (admin) может производить CRUD-операции со всеми сущностями
Журналист (journalist) может добавлять и изменять/удалять только свои новости
Подписчик (subscriber) может добавлять и изменять/удалять только свои комментарии
Незарегистрированные пользователи могут только просматривать новости и комментарии
13 Настроить кеширование всех сущностей (по регионам)

## Технологии

- Java 17.
- Gradle.
- PostgreSQL.
- Spring Boot 3.3.4
- Spring-boot-starter-data-jpa
- Spring-boot-starter-jdbc
- Spring-boot-starter-security
- Spring-boot-starter-web
- Spring-boot-starter-validation
- Liquibase
- Lombok
- Junit
## Инструкция для запуска приложения
1. Для того чтобы приложения хорошо запускалось нужно чтобы все технологии строго были похожи на те которые описаны выше.
2. Все настройки проекта лежат в application.yml.
3. Для работы с базой данной был подключён liquibase и написаны 2 скрипта один для создания таблиц, другой для их заполнения.
4. Запустить NewsServiceApplication.java
5. Проект готов к работе.
